{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"z:\\\\Projects\\\\EtherealOrgan\\\\Complete Project\\\\client\\\\src\\\\pages\\\\hospital\\\\Hmatch.js\";\n//import { MDBJumbotron, MDBBtn, MDBContainer, MDBRow, MDBCol } from \"mdbreact\";\nimport { MDBJumbotron, MDBBtn, MDBCard, MDBAlert, MDBRow, MDBCardBody, MDBContainer, MDBCardImage, MDBCardTitle, MDBCardText, MDBCol } from 'mdbreact';\nimport HosDrawer from \"./HospitalNav\";\nimport React, { Component } from 'react';\nimport OC from './oc';\nimport ipfs from './ipfs';\nimport jwtDecode from 'jwt-decode';\nimport getWeb3 from \"./getWeb3\";\nvar obj;\n\nclass JumbotronPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = async () => {\n      const acc = await window.localStorage.getItem(\"web3account\");\n      this.setState({\n        account: acc\n      });\n      console.log(this.state.account);\n      event.preventDefault();\n      console.log(this.state.list.name + \" ke Jumbotron ke submit ke andar\");\n      await OC.methods.transplantmatch(this.state.list.key).send({\n        from: this.state.account,\n        gas: 1000000\n      }).then(result => {\n        console.log(result);\n\n        if (result.status == false) {\n          console.log(\"No match found\");\n          window.alert(\"Sorry, no match found!\");\n        } else if (result.status == true) {\n          console.log(\"Match found\");\n          OC.methods.transplantedrecipient(this.state.list.key).call().then(transdid => {\n            this.setState({\n              did: transdid\n            });\n            console.log(this.state.did);\n          }); //this.setState({ did: result });\n          //console.log(this.state.did);\n\n          setTimeout(() => {\n            OC.methods.getdonor(this.state.did).call().then(donor => {\n              this.setState({\n                donorid: donor[0],\n                ipfsHash: donor[1],\n                organ: donor[2],\n                bgroup: donor[3]\n              });\n              console.log(this.state);\n              ipfs.cat(donor[1], (err, res) => {\n                if (err) {\n                  console.error(err);\n                  return;\n                }\n\n                const temp = JSON.parse(res.toString());\n                console.log(\"temp:\" + temp);\n                var ten = JSON.parse(temp);\n                this.setState({\n                  dname: ten[\"name\"],\n                  daddress: ten[\"address\"],\n                  dcity: ten[\"city\"],\n                  demail: ten[\"email\"],\n                  dcontact: ten[\"contact\"],\n                  f: true\n                });\n              });\n            });\n          }, 3000);\n        }\n      });\n    };\n\n    this.state = { ...props,\n      account: '',\n      did: '',\n      donorid: '',\n      dname: '',\n      dcontact: '',\n      demail: '',\n      daddress: '',\n      dcity: '',\n      organ: '',\n      bgroup: '',\n      f: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(MDBContainer, {\n      className: \"mt-5 text-center mx-5\",\n      children: /*#__PURE__*/_jsxDEV(MDBRow, {\n        children: /*#__PURE__*/_jsxDEV(MDBCol, {\n          children: /*#__PURE__*/_jsxDEV(MDBJumbotron, {\n            children: [this.state.f ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dusty-grass-gradient\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"h1 display-3\",\n                children: [\"Donor: \", this.state.dname]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"lead\",\n                children: this.state.did\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                className: \"my-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"lead\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-weight-bold\",\n                  children: \"Blood Group:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 21\n                }, this), \"  \", this.state.bgroup, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 93\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-weight-bold\",\n                  children: \"Organ:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 21\n                }, this), \"  \", this.state.organ, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 86\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-weight-bold\",\n                  children: \"Email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 21\n                }, this), \"  \", this.state.demail, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 87\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-weight-bold\",\n                  children: \"Contact:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 21\n                }, this), \"  \", this.state.dcontact, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 91\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-weight-bold\",\n                  children: \"Address:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 21\n                }, this), \"  \", this.state.daddress, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 91\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-weight-bold\",\n                  children: \"City:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 21\n                }, this), \" \", this.state.dcity, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 84\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                className: \"my-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 19\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"hr\", {\n                className: \"my-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 43\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 32\n            }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rare-wind-gradient\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"h1 display-3 \",\n                children: [\"Recipient: \", this.state.list.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"lead\",\n                children: this.state.list.key\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                className: \"my-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"lead\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-weight-bold\",\n                  children: \"Blood Group:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 19\n                }, this), \"  \", this.state.list.bgroup, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 96\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-weight-bold\",\n                  children: \"Organ:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 19\n                }, this), \"  \", this.state.list.organ, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 89\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-weight-bold\",\n                  children: \"Email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 19\n                }, this), \"  \", this.state.list.email, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 89\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-weight-bold\",\n                  children: \"Contact:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 19\n                }, this), \"  \", this.state.list.contact, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 93\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-weight-bold\",\n                  children: \"Address:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 19\n                }, this), \"  \", this.state.list.address, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 93\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-weight-bold\",\n                  children: \"City:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 19\n                }, this), \" \", this.state.list.city, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 86\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 17\n              }, this), this.state.f ? null : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"lead\",\n                children: /*#__PURE__*/_jsxDEV(MDBBtn, {\n                  color: \"primary\",\n                  onClick: this.onSubmit.bind(this),\n                  children: \"Match\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst Rlist = props => {\n  console.log(\"props:\" + props.buy);\n  obj = props.buy.map(listItem => /*#__PURE__*/_jsxDEV(JumbotronPage, {\n    list: listItem\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: obj\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Rlist;\nexport default class Hmatch extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      rcount: 0,\n      account: null,\n      hkey: '',\n      rec: [],\n      flag: false\n    };\n\n    this.componentDidMount = async () => {\n      console.log(\"Hello from Transplant Match\");\n      const user = await jwtDecode(window.localStorage.getItem(\"token\"));\n      this.setState({\n        hkey: user.user.hospitalpublickey\n      });\n      console.log(this.state.hkey);\n      const acc = await window.localStorage.getItem(\"web3account\");\n      this.setState({\n        account: acc\n      });\n      console.log(this.state.account);\n      await OC.methods.getrecipientcount(this.state.hkey).call().then(count => {\n        this.setState({\n          rcount: count\n        });\n        console.log(this.state.rcount);\n      });\n      var arr = [];\n\n      for (let i = 0; i < this.state.rcount; i++) {\n        OC.methods.getrecipientdetail(this.state.hkey, i).call().then(recipient => {\n          console.log(recipient);\n          ipfs.cat(recipient[1], (err, res) => {\n            if (err) {\n              console.error(err);\n              return;\n            }\n\n            const temp = JSON.parse(res.toString());\n            console.log(\"temp:\" + temp);\n            var ten = JSON.parse(temp);\n            const data = JSON.stringify({\n              name: ten[\"name\"],\n              city: ten[\"city\"],\n              address: ten[\"address\"],\n              contact: ten[\"contact\"],\n              email: ten[\"email\"],\n              key: recipient[0],\n              organ: recipient[2],\n              bgroup: recipient[3]\n            });\n            var te = JSON.parse(data);\n            console.log(te);\n            arr.push(te); //this.setState({ rec: arr });\n          });\n        });\n      }\n\n      setTimeout(() => {\n        console.log(arr);\n        this.setState({\n          rec: arr\n        });\n        console.log(\"rec:\" + this.state.rec);\n      }, 1000);\n      setTimeout(() => {\n        this.setState({\n          flag: true\n        });\n      }, 3000);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(HosDrawer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), this.state.rec[0] ? /*#__PURE__*/_jsxDEV(MDBContainer, {\n        className: \"\",\n        children: [console.log(\"render ke andar: \" + this.state.rec), /*#__PURE__*/_jsxDEV(HosDrawer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), console.log(\"chal gaya\"), this.state.flag ? /*#__PURE__*/_jsxDEV(Rlist, {\n          buy: this.state.rec\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this) : console.log(\"null null\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 30\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"d-flex justify-content-center mt-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"spinner-border\",\n            role: \"status\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"sr-only\",\n              children: \"Loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this), console.log(\"Loading\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Rlist\");","map":{"version":3,"sources":["z:/Projects/EtherealOrgan/Complete Project/client/src/pages/hospital/Hmatch.js"],"names":["MDBJumbotron","MDBBtn","MDBCard","MDBAlert","MDBRow","MDBCardBody","MDBContainer","MDBCardImage","MDBCardTitle","MDBCardText","MDBCol","HosDrawer","React","Component","OC","ipfs","jwtDecode","getWeb3","obj","JumbotronPage","constructor","props","onSubmit","acc","window","localStorage","getItem","setState","account","console","log","state","event","preventDefault","list","name","methods","transplantmatch","key","send","from","gas","then","result","status","alert","transplantedrecipient","call","transdid","did","setTimeout","getdonor","donor","donorid","ipfsHash","organ","bgroup","cat","err","res","error","temp","JSON","parse","toString","ten","dname","daddress","dcity","demail","dcontact","f","render","email","contact","address","city","bind","Rlist","buy","map","listItem","Hmatch","rcount","hkey","rec","flag","componentDidMount","user","hospitalpublickey","getrecipientcount","count","arr","i","getrecipientdetail","recipient","data","stringify","te","push"],"mappings":"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","sourcesContent":["\n//import { MDBJumbotron, MDBBtn, MDBContainer, MDBRow, MDBCol } from \"mdbreact\";\nimport { MDBJumbotron, MDBBtn, MDBCard, MDBAlert, MDBRow, MDBCardBody, MDBContainer, MDBCardImage, MDBCardTitle, MDBCardText, MDBCol } from 'mdbreact';\nimport HosDrawer from \"./HospitalNav\";\nimport React, { Component } from 'react';\nimport OC from './oc';\nimport ipfs from './ipfs';\nimport jwtDecode from 'jwt-decode';\nimport getWeb3 from \"./getWeb3\";\n\nvar obj;\n\n\nclass JumbotronPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ...props,\n      account: '',\n      did: '',\n      donorid: '',\n      dname: '',\n      dcontact: '',\n      demail: '',\n      daddress: '',\n      dcity: '',\n      organ: '',\n      bgroup: '',\n\n      f: false\n    }\n\n  }\n\n  onSubmit = async () => {\n    const acc = await window.localStorage.getItem(\"web3account\");\n    this.setState({ account: acc });\n    console.log(this.state.account);\n    event.preventDefault();\n    console.log(this.state.list.name + \" ke Jumbotron ke submit ke andar\");\n    await OC.methods.transplantmatch(this.state.list.key).send({\n      from: this.state.account,\n      gas: 1000000\n    }).then((result) => {\n      console.log(result);\n      if (result.status==false) {\n        console.log(\"No match found\");\n        window.alert(\"Sorry, no match found!\");\n      }\n      else if(result.status==true) {\n        console.log(\"Match found\");\n        OC.methods.transplantedrecipient(this.state.list.key).call().then((transdid) => {\n          this.setState({ did: transdid });\n         console.log(this.state.did);\n        });\n        //this.setState({ did: result });\n        //console.log(this.state.did);\n        setTimeout(() => {\n          OC.methods.getdonor(this.state.did).call().then((donor) => {\n            this.setState({\n              donorid: donor[0],\n              ipfsHash: donor[1],\n              organ: donor[2],\n              bgroup: donor[3]\n            });\n            console.log(this.state);\n            ipfs.cat(donor[1], (err, res) => {\n              if (err) {\n                console.error(err)\n                return\n              }\n              const temp = JSON.parse(res.toString());\n              console.log(\"temp:\" + temp);\n              var ten = JSON.parse(temp);\n              this.setState({\n                dname: ten[\"name\"],\n                daddress: ten[\"address\"],\n                dcity: ten[\"city\"],\n                demail: ten[\"email\"],\n                dcontact: ten[\"contact\"],\n                f: true\n              });\n            });\n          });\n        }, 3000);\n      }\n    });\n  }\n\n  render() {\n    return (\n      <MDBContainer className=\"mt-5 text-center mx-5\">\n        <MDBRow>\n          <MDBCol>\n            <MDBJumbotron>\n\n              {\n                this.state.f ? <div className=\"dusty-grass-gradient\">\n                  <h2 className=\"h1 display-3\">Donor: {this.state.dname}</h2>\n                  <p className=\"lead\">\n                    {this.state.did}\n                  </p>\n                  <hr className=\"my-2\" />\n                  <p className=\"lead\">\n                    <h5 className=\"font-weight-bold\">Blood Group:</h5>  {this.state.bgroup} <br />\n                    <h5 className=\"font-weight-bold\">Organ:</h5>  {this.state.organ} <br />\n                    <h5 className=\"font-weight-bold\">Email:</h5>  {this.state.demail} <br />\n                    <h5 className=\"font-weight-bold\">Contact:</h5>  {this.state.dcontact} <br />\n                    <h5 className=\"font-weight-bold\">Address:</h5>  {this.state.daddress} <br />\n                    <h5 className=\"font-weight-bold\">City:</h5> {this.state.dcity} <br />\n                  </p>\n\n                  <hr className=\"my-2\" /> <hr className=\"my-2\" />\n                </div>\n\n                  : null\n              }\n              <div className=\"rare-wind-gradient\">\n                <h2 className=\"h1 display-3 \">Recipient: {this.state.list.name}</h2>\n                <p className=\"lead\">\n                  {this.state.list.key}\n                </p>\n                <hr className=\"my-2\" />\n                <p className=\"lead\">\n                  <h5 className=\"font-weight-bold\">Blood Group:</h5>  {this.state.list.bgroup} <br />\n                  <h5 className=\"font-weight-bold\">Organ:</h5>  {this.state.list.organ} <br />\n                  <h5 className=\"font-weight-bold\">Email:</h5>  {this.state.list.email} <br />\n                  <h5 className=\"font-weight-bold\">Contact:</h5>  {this.state.list.contact} <br />\n                  <h5 className=\"font-weight-bold\">Address:</h5>  {this.state.list.address} <br />\n                  <h5 className=\"font-weight-bold\">City:</h5> {this.state.list.city} <br />\n                </p>\n                {\n                  this.state.f ? null :\n\n                    <p className=\"lead\">\n                      <MDBBtn color=\"primary\" onClick={this.onSubmit.bind(this)}>Match</MDBBtn>\n                    </p>\n                }\n                <br />\n              </div>\n            </MDBJumbotron>\n          </MDBCol>\n        </MDBRow>\n      </MDBContainer>\n    )\n  }\n}\n\n\nconst Rlist = (props) => {\n  console.log(\"props:\" + props.buy);\n  obj = props.buy.map((listItem) =>\n    <JumbotronPage list={listItem} />\n  );\n  return (\n    <div>\n      {obj}\n    </div>\n  )\n}\n\nexport default class Hmatch extends Component {\n\n  state = {\n    rcount: 0,\n    account: null,\n    hkey: '',\n    rec: [],\n    flag: false\n  }\n\n  componentDidMount = async () => {\n    console.log(\"Hello from Transplant Match\");\n    const user = await jwtDecode(window.localStorage.getItem(\"token\"));\n    this.setState({ hkey: user.user.hospitalpublickey })\n    console.log(this.state.hkey);\n    const acc = await window.localStorage.getItem(\"web3account\");\n    this.setState({ account: acc });\n    console.log(this.state.account);\n    await OC.methods.getrecipientcount(this.state.hkey).call().then((count) => {\n      this.setState({ rcount: count });\n      console.log(this.state.rcount);\n    });\n\n    var arr = [];\n    for (let i = 0; i < this.state.rcount; i++) {\n      OC.methods.getrecipientdetail(this.state.hkey, i).call().then((recipient) => {\n        console.log(recipient);\n        ipfs.cat(recipient[1], (err, res) => {\n          if (err) {\n            console.error(err)\n            return\n          }\n          const temp = JSON.parse(res.toString());\n          console.log(\"temp:\" + temp);\n          var ten = JSON.parse(temp);\n          const data = JSON.stringify({\n            name: ten[\"name\"],\n            city: ten[\"city\"],\n            address: ten[\"address\"],\n            contact: ten[\"contact\"],\n            email: ten[\"email\"],\n            key: recipient[0],\n            organ: recipient[2],\n            bgroup: recipient[3]\n          });\n          var te = JSON.parse(data);\n          console.log(te);\n          arr.push(te);\n          //this.setState({ rec: arr });\n        });\n      });\n    }\n    setTimeout(() => {\n      console.log(arr);\n      this.setState({ rec: arr });\n      console.log(\"rec:\" + this.state.rec);\n    }, 1000);\n    setTimeout(() => {\n      this.setState({ flag: true });\n    }, 3000);\n\n  }\n\n\n  render() {\n    return (\n      <div>\n        <HosDrawer />\n        {this.state.rec[0] ? <MDBContainer className=\"\">\n          {console.log(\"render ke andar: \" + this.state.rec)}\n          <HosDrawer />\n\n          {console.log(\"chal gaya\")}\n          {this.state.flag ?\n            <Rlist buy={this.state.rec} />\n            : console.log(\"null null\")}\n\n        </MDBContainer> : <div>\n\n            <div class=\"d-flex justify-content-center mt-5\">\n              <div class=\"spinner-border\" role=\"status\">\n                <span class=\"sr-only\">Loading...</span>\n              </div>\n            </div>\n            {console.log(\"Loading\")}\n          </div>\n\n        }\n      </div>\n    )\n  }\n}\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}